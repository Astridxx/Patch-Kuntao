From fbd1b7304b0d109f130630d8970b03c4ab2b6ba8 Mon Sep 17 00:00:00 2001
From: Murat Kozan <muratkozan350@gmail.com>
Date: Tue, 19 Mar 2024 11:30:44 +0300
Subject: [PATCH] Settings: Add a preference to battery optimization page

* rather than going to apps one by one, this preference allows users to open the page where it'll list all apps with filters and stuff.
---
 res/xml/power_usage_summary.xml | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/res/xml/power_usage_summary.xml b/res/xml/power_usage_summary.xml
index 7a5647600e7..86c03468f49 100644
--- a/res/xml/power_usage_summary.xml
+++ b/res/xml/power_usage_summary.xml
@@ -64,6 +64,12 @@
         android:key="charging_control"
         lineage:requiresService="lineagehealth" />
 
+    <Preference
+        android:key="high_power_apps"
+        android:title="@string/high_power_apps">
+        <intent android:action="android.settings.IGNORE_BATTERY_OPTIMIZATION_SETTINGS" />
+    </Preference>
+
     <!-- Battery light -->
     <org.lineageos.internal.lineageparts.LineagePartsPreference
         android:key="battery_lights"
