From 8eaa1d1275265bf5cb08c8a6a93de31026cdfdc2 Mon Sep 17 00:00:00 2001
From: Murat Kozan <muratkozan350@gmail.com>
Date: Tue, 11 Apr 2023 22:59:55 +0300
Subject: [PATCH] Settings: Add a preference to battery optimization page

* rather than going to apps one by one, this preference allows users to open the page where it'll list all apps with filters and stuff.
---
 res/xml/power_usage_summary.xml | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/res/xml/power_usage_summary.xml b/res/xml/power_usage_summary.xml
index 577720348d7..9dff15ab416 100644
--- a/res/xml/power_usage_summary.xml
+++ b/res/xml/power_usage_summary.xml
@@ -59,6 +59,12 @@
         settings:controller="com.android.settings.fuelgauge.batterytip.BatteryManagerPreferenceController"
         settings:keywords="@string/keywords_battery_adaptive_preferences" />
 
+    <Preference
+        android:key="high_power_apps"
+        android:title="@string/high_power_apps">
+        <intent android:action="android.settings.IGNORE_BATTERY_OPTIMIZATION_SETTINGS" />
+    </Preference>
+
     <!-- Battery light -->
     <org.lineageos.internal.lineageparts.LineagePartsPreference
         android:key="battery_lights"
