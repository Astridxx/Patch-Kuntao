From f8a620c2eb0d6c70dd9b18b2b86481b97196be19 Mon Sep 17 00:00:00 2001
From: Andy CrossGate Yan <GeForce8800Ultra@gmail.com>
Date: Fri, 2 Jun 2023 05:57:24 +0300
Subject: [PATCH] Trebuchet: Make overview scrim transparent again

Also revert texts/buttons to workspace color
---
 quickstep/res/values/styles.xml                            | 2 +-
 quickstep/src/com/android/quickstep/views/RecentsView.java | 2 +-
 res/color-v31/overview_scrim.xml                           | 2 +-
 res/color-v31/overview_scrim_dark.xml                      | 2 +-
 res/color/overview_button.xml                              | 6 +++---
 5 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/quickstep/res/values/styles.xml b/quickstep/res/values/styles.xml
index 8eea37f6c2..623f60f81a 100644
--- a/quickstep/res/values/styles.xml
+++ b/quickstep/res/values/styles.xml
@@ -176,7 +176,7 @@
         parent="@android:style/Widget.DeviceDefault.Button.Borderless">
         <item name="android:textColor">@color/overview_button</item>
         <item name="android:drawableTint">@color/overview_button</item>
-        <item name="android:tint">?android:attr/textColorPrimary</item>
+        <item name="android:tint">?attr/workspaceTextColor</item>
         <item name="android:drawablePadding">8dp</item>
         <item name="android:textAllCaps">false</item>
     </style>
diff --git a/quickstep/src/com/android/quickstep/views/RecentsView.java b/quickstep/src/com/android/quickstep/views/RecentsView.java
index 4d68f219b7..8e75a7c18d 100644
--- a/quickstep/src/com/android/quickstep/views/RecentsView.java
+++ b/quickstep/src/com/android/quickstep/views/RecentsView.java
@@ -783,7 +783,7 @@ public RecentsView(Context context, @Nullable AttributeSet attrs, int defStyleAt
         mEmptyIcon.setCallback(this);
         mEmptyMessage = context.getText(R.string.recents_empty_message);
         mEmptyMessagePaint = new TextPaint();
-        mEmptyMessagePaint.setColor(Themes.getAttrColor(context, android.R.attr.textColorPrimary));
+        mEmptyMessagePaint.setColor(Themes.getAttrColor(context, R.attr.workspaceTextColor));
         mEmptyMessagePaint.setTextSize(getResources()
                 .getDimension(R.dimen.recents_empty_message_text_size));
         mEmptyMessagePaint.setTypeface(Typeface.create(Themes.getDefaultBodyFont(context),
diff --git a/res/color-v31/overview_scrim.xml b/res/color-v31/overview_scrim.xml
index 212518ff65..894997c59a 100644
--- a/res/color-v31/overview_scrim.xml
+++ b/res/color-v31/overview_scrim.xml
@@ -14,5 +14,5 @@
      limitations under the License.
 -->
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-  <item android:color="@android:color/system_neutral2_200" />
+  <item android:color="@android:color/transparent" />
 </selector>
diff --git a/res/color-v31/overview_scrim_dark.xml b/res/color-v31/overview_scrim_dark.xml
index 2ab8ecdec9..894997c59a 100644
--- a/res/color-v31/overview_scrim_dark.xml
+++ b/res/color-v31/overview_scrim_dark.xml
@@ -14,5 +14,5 @@
      limitations under the License.
 -->
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-  <item android:color="@android:color/system_neutral1_500" android:lStar="35" />
+  <item android:color="@android:color/transparent" />
 </selector>
diff --git a/res/color/overview_button.xml b/res/color/overview_button.xml
index aa48b78604..e638ac2d4a 100644
--- a/res/color/overview_button.xml
+++ b/res/color/overview_button.xml
@@ -2,10 +2,10 @@
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <item
         android:alpha="1"
-        android:color="?android:attr/textColorPrimary"
+        android:color="?attr/workspaceTextColor"
         android:state_enabled="true" />
     <item
         android:alpha="?android:disabledAlpha"
-        android:color="?android:attr/textColorPrimary"
+        android:color="?attr/workspaceTextColor"
         android:state_enabled="false" />
-</selector>
\ No newline at end of file
+</selector>
